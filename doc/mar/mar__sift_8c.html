<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MAR: mar_sift.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>mar_sift.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Contains code which is used for the scale invariant feature transform algorithm.  
<a href="#_details">More...</a></p>
<code>#include &quot;../common/mar_common.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="mar__sift_8h.html">mar_sift.h</a>&quot;</code><br/>
<code>#include &lt;sift.h&gt;</code><br/>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a936c88a09d4576fd16f997b87162f55d">MAR_SIFT_NBO</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of SIFT bins per orientation.  <a href="#a936c88a09d4576fd16f997b87162f55d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a524a3a0407f760ca4b9113da82c8f934">MAR_SIFT_NBP</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of SIFT bins per position.  <a href="#a524a3a0407f760ca4b9113da82c8f934"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#aab2c2ae40b35e35717ef7eadab32492b">mar_sift_new</a> (int width, int height, int number_of_octaves, int number_of_levels, int first_octave)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new SIFT filter.  <a href="#aab2c2ae40b35e35717ef7eadab32492b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a2a41b3aec0d9b05b64216073f156e595">mar_sift_free</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees the SIFT filter created by mar_sift_new.  <a href="#a2a41b3aec0d9b05b64216073f156e595"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#aff90982af241895e819f4730dcb11eed">mar_sift_set_peak_threshold</a> (float threshold)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the peak threshold value for SIFT filter.  <a href="#aff90982af241895e819f4730dcb11eed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#ab5c2e7041d5a14612ab85f5ff2a2ea6d">mar_sift_set_edge_threshold</a> (float threshold)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the edge threshold value for SIFT filter.  <a href="#ab5c2e7041d5a14612ab85f5ff2a2ea6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a6ded2ec3bd40292c58e98db9de661a82">mar_sift_get_peak_threshold</a> (float *threshold)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the peak threshold value for SIFT filter.  <a href="#a6ded2ec3bd40292c58e98db9de661a82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a34a7ad791ca7efd6ddaed321556a1a07">mar_sift_get_edge_threshold</a> (float *threshold)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the edge threshold value for SIFT filter.  <a href="#a34a7ad791ca7efd6ddaed321556a1a07"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a93028259ab6a26712e4cc3b6f1a2fdfb">mar_sift_get_first_octave</a> (int *first_octave)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the first octave used by the SIFT filter.  <a href="#a93028259ab6a26712e4cc3b6f1a2fdfb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#aa1f4dfc79e85300e58cf2968dd60276e">mar_sift_get_number_of_octaves</a> (int *number_of_octaves)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the number of octaves for SIFT filter.  <a href="#aa1f4dfc79e85300e58cf2968dd60276e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a86741d6b0130dede4927a40132f95d28">mar_sift_get_number_of_levels</a> (int *number_of_levels)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the number of levels per octave for SIFT filter.  <a href="#a86741d6b0130dede4927a40132f95d28"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#aebbbb166895c4e402edf47e1c078ccac">mar_sift_get_keypoints</a> (<a class="el" href="structmar__sift__keypoint.html">mar_sift_keypoint</a> **keypoints, int *num_keypoints, unsigned char *frame_buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates and returns the SIFT keypoints for a camera frame.  <a href="#aebbbb166895c4e402edf47e1c078ccac"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE VlSiftFilt *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a> = NULL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The SIFT filter.  <a href="#ab7b0eaca2aff02e7012148f74c67d864"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE float *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#aa1fd16784205977eb4c83f4a80a20bf0">sift_image_buffer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The image buffer to store a grayscale of the camera image for SIFT filtering.  <a href="#aa1fd16784205977eb4c83f4a80a20bf0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#ad2bb040f8066ede9559324f3bbb55c3a">sift_image_width</a> = 0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The image buffer width.  <a href="#ad2bb040f8066ede9559324f3bbb55c3a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a0b921df0c917ad477d82a2dfdb7e5f87">sift_image_height</a> = 0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The image buffer height.  <a href="#a0b921df0c917ad477d82a2dfdb7e5f87"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE <a class="el" href="structmar__sift__keypoint.html">mar_sift_keypoint</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a90b2da3fb673797d9a527dc07d6d22e8">sift_keypoints</a> = NULL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A buffer for holding SIFT keypoints found from filtering.  <a href="#a90b2da3fb673797d9a527dc07d6d22e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MAR_PRIVATE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mar__sift_8c.html#a62eb0e006fe1e306997bd71e1cf186a5">sift_keypoints_size</a> = MAR_SIFT_DEFAULT_NUMBER_OF_KEYPOINTS</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The size of the SIFT keypoint buffer.  <a href="#a62eb0e006fe1e306997bd71e1cf186a5"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Contains code which is used for the scale invariant feature transform algorithm. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Greg Eddington </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a936c88a09d4576fd16f997b87162f55d"></a><!-- doxytag: member="mar_sift.c::MAR_SIFT_NBO" ref="a936c88a09d4576fd16f997b87162f55d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAR_SIFT_NBO&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of SIFT bins per orientation. </p>

</div>
</div>
<a class="anchor" id="a524a3a0407f760ca4b9113da82c8f934"></a><!-- doxytag: member="mar_sift.c::MAR_SIFT_NBP" ref="a524a3a0407f760ca4b9113da82c8f934" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAR_SIFT_NBP&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of SIFT bins per position. </p>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2a41b3aec0d9b05b64216073f156e595"></a><!-- doxytag: member="mar_sift.c::mar_sift_free" ref="a2a41b3aec0d9b05b64216073f156e595" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC void mar_sift_free </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Frees the SIFT filter created by mar_sift_new. </p>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>, <a class="el" href="mar__sift_8c.html#aa1fd16784205977eb4c83f4a80a20bf0">sift_image_buffer</a>, and <a class="el" href="mar__sift_8c.html#a90b2da3fb673797d9a527dc07d6d22e8">sift_keypoints</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>, and <a class="el" href="mar__augment_8h.html#aa18ab9b48e5e9e7aa22f4954d3c77bae">mar_augment_free()</a>.</p>

</div>
</div>
<a class="anchor" id="a34a7ad791ca7efd6ddaed321556a1a07"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_edge_threshold" ref="a34a7ad791ca7efd6ddaed321556a1a07" args="(float *threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_edge_threshold </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>threshold</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the edge threshold value for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>Will be set to the edge threshold. This is the edge rejection threshold.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>.</p>

</div>
</div>
<a class="anchor" id="a93028259ab6a26712e4cc3b6f1a2fdfb"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_first_octave" ref="a93028259ab6a26712e4cc3b6f1a2fdfb" args="(int *first_octave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_first_octave </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>first_octave</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the first octave used by the SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>first_octave</em>&nbsp;</td><td>Will be set to the first octave used by the SIFT filter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>.</p>

</div>
</div>
<a class="anchor" id="aebbbb166895c4e402edf47e1c078ccac"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_keypoints" ref="aebbbb166895c4e402edf47e1c078ccac" args="(mar_sift_keypoint **keypoints, int *num_keypoints, unsigned char *frame_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_keypoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmar__sift__keypoint.html">mar_sift_keypoint</a> **&nbsp;</td>
          <td class="paramname"> <em>keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>num_keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>frame_buffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculates and returns the SIFT keypoints for a camera frame. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keypoints</em>&nbsp;</td><td>A pointer to a pointer which will be modified to point to the array of keypoints. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_keypoints</em>&nbsp;</td><td>The number of SIFT keypoints, and the size of the regions array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame_buffer</em>&nbsp;</td><td>The camera's frame buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="structmar__sift__keypoint.html#ab0c4499c5e22b7df0b1ebbff8c8cabe2">mar_sift_keypoint::angle</a>, <a class="el" href="mar__sift_8c.html#a524a3a0407f760ca4b9113da82c8f934">MAR_SIFT_NBP</a>, <a class="el" href="structmar__sift__keypoint.html#aa0c57f7487ce394e0b7d8927d16cb2ad">mar_sift_keypoint::radius</a>, <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>, <a class="el" href="mar__sift_8c.html#aa1fd16784205977eb4c83f4a80a20bf0">sift_image_buffer</a>, <a class="el" href="mar__sift_8c.html#a0b921df0c917ad477d82a2dfdb7e5f87">sift_image_height</a>, <a class="el" href="mar__sift_8c.html#ad2bb040f8066ede9559324f3bbb55c3a">sift_image_width</a>, <a class="el" href="mar__sift_8c.html#a90b2da3fb673797d9a527dc07d6d22e8">sift_keypoints</a>, <a class="el" href="mar__sift_8c.html#a62eb0e006fe1e306997bd71e1cf186a5">sift_keypoints_size</a>, <a class="el" href="structmar__sift__keypoint.html#ac153a5485f3c05b63b0811c9fa5b1fbb">mar_sift_keypoint::x</a>, and <a class="el" href="structmar__sift__keypoint.html#aa22da4e70374d37a36c263daf3e07efc">mar_sift_keypoint::y</a>.</p>

<p>Referenced by <a class="el" href="mar__augment_8h.html#a9a778998de97aed086911fe533ad967a">mar_augment_get_keypoints()</a>, and <a class="el" href="mar__augment_8h.html#a9b424209ac2516fc7d64b39834d55cf9">mar_augment_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a86741d6b0130dede4927a40132f95d28"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_number_of_levels" ref="a86741d6b0130dede4927a40132f95d28" args="(int *number_of_levels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_number_of_levels </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>number_of_levels</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of levels per octave for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number_of_levels</em>&nbsp;</td><td>Will be set to the number of levels per octave of the SIFT filter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1f4dfc79e85300e58cf2968dd60276e"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_number_of_octaves" ref="aa1f4dfc79e85300e58cf2968dd60276e" args="(int *number_of_octaves)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_number_of_octaves </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>number_of_octaves</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of octaves for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number_of_octaves</em>&nbsp;</td><td>Will be set to the number of octaves.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ded2ec3bd40292c58e98db9de661a82"></a><!-- doxytag: member="mar_sift.c::mar_sift_get_peak_threshold" ref="a6ded2ec3bd40292c58e98db9de661a82" args="(float *threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_get_peak_threshold </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>threshold</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the peak threshold value for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>Will be set to the peak threshold. This is the minimum amount of contrast to accept a keypoint</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>.</p>

</div>
</div>
<a class="anchor" id="aab2c2ae40b35e35717ef7eadab32492b"></a><!-- doxytag: member="mar_sift.c::mar_sift_new" ref="aab2c2ae40b35e35717ef7eadab32492b" args="(int width, int height, int number_of_octaves, int number_of_levels, int first_octave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_new </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_octaves</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>number_of_levels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>first_octave</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new SIFT filter. </p>
<p>Must be called before calling other MAR SIFT functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>The width of the camera frame </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>The height of the camera frame </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>number_of_octaves</em>&nbsp;</td><td>The number of octaves used by the SIFT filter. Increasing the scale by an octave means doubling the size of the smoothing kernel, whose effect is roughly equivalent to halving the image resolution. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>number_of_levels</em>&nbsp;</td><td>The number of levels used by the SIFT filter. Each octave is sampled at this given number of intermediate scales Increasing this number might in principle return more refined keypoints, but in practice can make their selection unstable due to noise. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_octave</em>&nbsp;</td><td>The SIFT filter will iterate from first_octave to number_of_octaves</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8h.html#a376ef294c8188e9c2f51e3a390497de0">MAR_SIFT_DEFAULT_NUMBER_OF_KEYPOINTS</a>, <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>, <a class="el" href="mar__sift_8c.html#aa1fd16784205977eb4c83f4a80a20bf0">sift_image_buffer</a>, <a class="el" href="mar__sift_8c.html#a0b921df0c917ad477d82a2dfdb7e5f87">sift_image_height</a>, <a class="el" href="mar__sift_8c.html#ad2bb040f8066ede9559324f3bbb55c3a">sift_image_width</a>, and <a class="el" href="mar__sift_8c.html#a90b2da3fb673797d9a527dc07d6d22e8">sift_keypoints</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>, and <a class="el" href="mar__augment_8h.html#a7891350c7d72023892172f7a7401c65c">mar_augment_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5c2e7041d5a14612ab85f5ff2a2ea6d"></a><!-- doxytag: member="mar_sift.c::mar_sift_set_edge_threshold" ref="ab5c2e7041d5a14612ab85f5ff2a2ea6d" args="(float threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_set_edge_threshold </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>threshold</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the edge threshold value for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>The edge threshold. This is the edge rejection threshold.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>, and <a class="el" href="mar__augment_8h.html#a7891350c7d72023892172f7a7401c65c">mar_augment_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aff90982af241895e819f4730dcb11eed"></a><!-- doxytag: member="mar_sift.c::mar_sift_set_peak_threshold" ref="aff90982af241895e819f4730dcb11eed" args="(float threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PUBLIC <a class="el" href="mar__error_8h.html#ab77279aa5411fe8e548ba6b071b5c749">mar_error_code</a> mar_sift_set_peak_threshold </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>threshold</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the peak threshold value for SIFT filter. </p>
<p>May only be called if a SIFT filter has been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>The peak threshold. This is the minimum amount of contrast to accept a keypoint</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MAR_ERROR_NONE on success, an error code on failure. </dd></dl>

<p>References <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a>.</p>

<p>Referenced by <a class="el" href="lighthouse_8c.html#aef7ba2f69afb2d954545f64c7fe24b14">keyboard()</a>, and <a class="el" href="mar__augment_8h.html#a7891350c7d72023892172f7a7401c65c">mar_augment_init()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ab7b0eaca2aff02e7012148f74c67d864"></a><!-- doxytag: member="mar_sift.c::sift_filter" ref="ab7b0eaca2aff02e7012148f74c67d864" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE VlSiftFilt* <a class="el" href="mar__sift_8c.html#ab7b0eaca2aff02e7012148f74c67d864">sift_filter</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The SIFT filter. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a1db391c8c03d087921bd300e176b5d85">mar_sift_free()</a>, <a class="el" href="mar__sift_8h.html#a833dde5b40130196c48af9fc4d0ed7d0">mar_sift_get_edge_threshold()</a>, <a class="el" href="mar__sift_8h.html#aa6f7ead208629c395e39c5a57744d710">mar_sift_get_first_octave()</a>, <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>, <a class="el" href="mar__sift_8h.html#a8ab3cd35d932af2c33258d736bd2008f">mar_sift_get_number_of_levels()</a>, <a class="el" href="mar__sift_8h.html#a4ed0532bcaafb37f4767c0cb4b80c43e">mar_sift_get_number_of_octaves()</a>, <a class="el" href="mar__sift_8h.html#a7bb048acbfc162c4378a8aff8c129fc8">mar_sift_get_peak_threshold()</a>, <a class="el" href="mar__sift_8h.html#a7432d4e784fc390113334b412c880dd1">mar_sift_new()</a>, <a class="el" href="mar__sift_8h.html#abc298ed08f40331400fd82849ccc209b">mar_sift_set_edge_threshold()</a>, and <a class="el" href="mar__sift_8h.html#a35c6311f3262aa239b6d5958ebd0a641">mar_sift_set_peak_threshold()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1fd16784205977eb4c83f4a80a20bf0"></a><!-- doxytag: member="mar_sift.c::sift_image_buffer" ref="aa1fd16784205977eb4c83f4a80a20bf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE float* <a class="el" href="mar__sift_8c.html#aa1fd16784205977eb4c83f4a80a20bf0">sift_image_buffer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The image buffer to store a grayscale of the camera image for SIFT filtering. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a1db391c8c03d087921bd300e176b5d85">mar_sift_free()</a>, <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>, and <a class="el" href="mar__sift_8h.html#a7432d4e784fc390113334b412c880dd1">mar_sift_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b921df0c917ad477d82a2dfdb7e5f87"></a><!-- doxytag: member="mar_sift.c::sift_image_height" ref="a0b921df0c917ad477d82a2dfdb7e5f87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE int <a class="el" href="mar__sift_8c.html#a0b921df0c917ad477d82a2dfdb7e5f87">sift_image_height</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The image buffer height. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>, and <a class="el" href="mar__sift_8h.html#a7432d4e784fc390113334b412c880dd1">mar_sift_new()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2bb040f8066ede9559324f3bbb55c3a"></a><!-- doxytag: member="mar_sift.c::sift_image_width" ref="ad2bb040f8066ede9559324f3bbb55c3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE int <a class="el" href="mar__sift_8c.html#ad2bb040f8066ede9559324f3bbb55c3a">sift_image_width</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The image buffer width. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>, and <a class="el" href="mar__sift_8h.html#a7432d4e784fc390113334b412c880dd1">mar_sift_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a90b2da3fb673797d9a527dc07d6d22e8"></a><!-- doxytag: member="mar_sift.c::sift_keypoints" ref="a90b2da3fb673797d9a527dc07d6d22e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE <a class="el" href="structmar__sift__keypoint.html">mar_sift_keypoint</a>* <a class="el" href="mar__sift_8c.html#a90b2da3fb673797d9a527dc07d6d22e8">sift_keypoints</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A buffer for holding SIFT keypoints found from filtering. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a1db391c8c03d087921bd300e176b5d85">mar_sift_free()</a>, <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>, and <a class="el" href="mar__sift_8h.html#a7432d4e784fc390113334b412c880dd1">mar_sift_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a62eb0e006fe1e306997bd71e1cf186a5"></a><!-- doxytag: member="mar_sift.c::sift_keypoints_size" ref="a62eb0e006fe1e306997bd71e1cf186a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MAR_PRIVATE int <a class="el" href="mar__sift_8c.html#a62eb0e006fe1e306997bd71e1cf186a5">sift_keypoints_size</a> = MAR_SIFT_DEFAULT_NUMBER_OF_KEYPOINTS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The size of the SIFT keypoint buffer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Referenced by <a class="el" href="mar__sift_8h.html#a7f0eb2d603a7557f9c436a8b9e319221">mar_sift_get_keypoints()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2011 02:04:28 for MAR by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
